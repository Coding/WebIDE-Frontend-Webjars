sudo: required
services:
- docker
script:
  - docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
  - export REPO=webide/webjars-builder
  - export TAG=`if [ "$TRAVIS_BRANCH" == "master" ]; then echo "latest"; else echo $TRAVIS_BRANCH ; fi`
  - docker build -f Dockerfile -t $REPO:$COMMIT .
  - docker tag $REPO:$COMMIT $REPO:$TAG
  - docker tag $REPO:$COMMIT $REPO:travis-$TRAVIS_BUILD_NUMBER
  - docker push $REPO
env:
  global:
  - secure: k6gXKckbeV4McWnEEg5pjSgjbsaJdtF2SblFEz/KxciM5giODxQpxUzPSl9TXB/Q6zPiirKjLErr0Wwncg7q18PPik6P2u2H1O9+ayIm0ipIra6hao6n+69v1WBN/sE7jf1bGlHsQsQ9qj47dfeLq/YEev8c68XMiEJHpznQkS+5wqT2Kj4AVQAJJ0ZHWhjYODc0cS5GtQK5OqJdxh/KL8TWry8JeOtNrGZE+DFi8qZxOzOmOMvThzQP9VkBaKJ9SFxdcVpcTWZPbpzbEurn7rmSu6iWbU08mxCNrRvzlUd7sw1wcAhBH7wyx/18FiNf1BFLz/6hiIomjknS8cTgyUR4q+0Jm8TVpvpHE80lcsCQUEMa+6+YYMlKnZhGEXDg0SRj9ntfhD44IV3tK1Ch1VgKGOsP6FTNSaHLsrQ9OBJ5YZ9kO/Xe6BgKyDlH4a9QxuAfhcPIVBYKbE1xs7V7uGqW4EMXfPolBEuaxoVLBeXNB3goG772Xa/8Cl6ObKO8xVG2aN2QQBeKZEKahqw00v3P4YZ9A+8hFv6rw4LrAhBMBoQCsduFp4sPGvyUUlKAvim2FqTIVHA5wDcS9G0oIwLvrEUuQWYNUiAEyZqTKaL81u2bRTtmDjhoKki5mAoVord9YCSg8StZ32LRIviaEbWTzJhPkgt2g5wjcxJLEP4=
  - secure: cf1UZFSfaPjz9aQ+M8u+6yfZk81DWZoTzmIT9UxCZmwZH8kkb9zADjnLONaOB6jMk6Meyxau76ZACKL8szNd7BcOsL0M5nBpBoUIVc+Lbe+g02TFsm956yfk5FISbK7AUC/Qblhw9jQeyT7qFyeyh711/f3C+jwXFB9P9uxK2PjsUpz0BeQH6ld/wnappNQla3IDM+vLaHv1CmH2y9sLl3WDhs9jVHPUPhzeklgojibvHXRe2wcdytlII4Vh79+kDKCUUncNkPNFqrcY4ISluRGIchTsjy9AR2/MezbS3T3Ei6w4CqTlIT3hRr6B7mQrdXx4rTCKKucafFB2KcFp9cBcqeWZ++B/u/tXyb49nGcuNxQz2zoY0u3Ba5TLelwbQLH8X55meVeJLrDShOTX+PHiNK070o7luz8LDqE1O6WCD3Ne+GcOv1B2uaPT3TkNUNxt82rSaDHwHQWa9/2foELglo+W/ca6SmZb10McyJSaZn50XIquy0g/oMNhkvqTQVYklY5ztbKMqv4hXtiA+Rq1RMWJxDs9OkgQWafPmrTJOO8djf7rEhexfJuVVaOBOFzQZCjv0F+/DqP+E6YpZp2whvjga+/1mp/Nno7UIutJs8GLNONdA4un/EHky0U2BlD6NTH/DePKZWImwzYQSQdGK2xsnA2XH9QM6ZvMWBk=
  - secure: FEjVU4qL2PBa0LKBGrIRxrWwqplBIf1HbOI+asD6C+woCfdvn2Hv58W339qTGCtHszJYUhLKfPx1Q9c8MriF1PZ4OWFqCI7LHz20IwfDGFXV+nN/WIjRrJWLWLbb2co2gY0mAd22+3ZWKJsqKueum0aKYv3Ba5jwiIfbvEFVG39cLDhVxfxIBmn7AtCEjsdOaDUhbuwde+SBLfC+Zc2IM7PlcAio9ZqGCveKE4Kz1pjcgsWG/kTckNow/zY4o8laOY8OUGFp+wTWQY4EGp9vc6dwQKankrUKhpU3hU261aoyOToZiGvqQCXuNiaAev3SgScLmkIkoSacr03W3xXuQ8ifocHZ8BaZD3fHCYyucORoDPr0s7ak/O8VEqCkasKK8yAD5WH4j9Klidl5dxjL23TCnqtrcHaDKz+5jF81ZONQkoBsFc/Q+4DT9TO01SnJ9uOQYs+FtNNg6GmoskdDFbTAGnC36Q9eb6ofJ+Z37PmfCPqCv36PPOIkaDwpVMdw817bOT/uJs9pgP64Ko8HsdfEHxZp0SZv5qRPUPE/XtoCzIv4cx3Htu1uoxVPDW+YY8gZfQIT8zVR44NqTyJ0DYgx+VZ1DO2bVxMu+2mn8m7aZ/eCHTD8WX7AnbL3GPTVrdvTzGkbAERAIOwFtCq9GPp9Xdc3rtzbg5eN4esWd1w=
